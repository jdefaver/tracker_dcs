[{"id":"1b5e05d0.356c1a","type":"tab","label":"Flow 1","disabled":true,"info":""},{"id":"5f7479e.a85f988","type":"tab","label":"Flow 2","disabled":true,"info":""},{"id":"578ae253.39d5dc","type":"tab","label":"Flow 3","disabled":false,"info":""},{"id":"26584c7e.c410f4","type":"mqtt-broker","z":"","name":"tracker_dcs_mqtt","broker":"localhost","port":"1883","clientid":"","usetls":false,"compatmode":false,"keepalive":"60","cleansession":true,"birthTopic":"","birthQos":"0","birthPayload":"","closeTopic":"","closeQos":"0","closePayload":"","willTopic":"","willQos":"0","willPayload":""},{"id":"f25576dc.e747f8","type":"ui_tab","z":"","name":"Home","icon":"dashboard","disabled":false,"hidden":false},{"id":"e831694e.1a4d98","type":"ui_group","z":"","name":"HV Power supply","tab":"f25576dc.e747f8","order":1,"disp":true,"width":"6","collapse":false},{"id":"bfa4e8f5.223938","type":"ui_base","theme":{"name":"theme-dark","lightTheme":{"default":"#0094CE","baseColor":"#0094CE","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif","edited":true,"reset":false},"darkTheme":{"default":"#097479","baseColor":"#097479","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif","edited":true,"reset":false},"customTheme":{"name":"Untitled Theme 1","default":"#4B7930","baseColor":"#4B7930","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"},"themeState":{"base-color":{"default":"#097479","value":"#097479","edited":false},"page-titlebar-backgroundColor":{"value":"#097479","edited":false},"page-backgroundColor":{"value":"#111111","edited":false},"page-sidebar-backgroundColor":{"value":"#333333","edited":false},"group-textColor":{"value":"#0eb8c0","edited":false},"group-borderColor":{"value":"#555555","edited":false},"group-backgroundColor":{"value":"#333333","edited":false},"widget-textColor":{"value":"#eeeeee","edited":false},"widget-backgroundColor":{"value":"#097479","edited":false},"widget-borderColor":{"value":"#333333","edited":false},"base-font":{"value":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"}},"angularTheme":{"primary":"indigo","accents":"blue","warn":"red","background":"grey"}},"site":{"name":"Node-RED Dashboard","hideToolbar":"false","allowSwipe":"false","lockMenu":"false","allowTempTheme":"true","dateFormat":"DD/MM/YYYY","sizes":{"sx":48,"sy":48,"gx":6,"gy":6,"cx":6,"cy":6,"px":0,"py":0}}},{"id":"dbd2c210.cc1ae","type":"ui_group","z":"","name":"Sensors","tab":"f25576dc.e747f8","order":2,"disp":true,"width":"6","collapse":false},{"id":"802c2ce2.d40b78","type":"ui_tab","z":"","name":"LV/HV FSM","icon":"dashboard","order":2,"disabled":false,"hidden":false},{"id":"2d4cda88.78c10e","type":"ui_group","z":"","name":"LV","tab":"802c2ce2.d40b78","order":2,"disp":true,"width":"6","collapse":false},{"id":"4f48b026.53e41","type":"ui_group","z":"","name":"HV","tab":"802c2ce2.d40b78","order":3,"disp":true,"width":"6","collapse":false},{"id":"853ba2bb.2732c8","type":"ui_group","z":"","name":"Channel","tab":"802c2ce2.d40b78","order":1,"disp":true,"width":"6","collapse":false},{"id":"7e8b733.856580c","type":"ui_tab","z":"","name":"DCS","icon":"dashboard","disabled":false,"hidden":false},{"id":"55e11d43.79404c","type":"ui_group","z":"","name":"DCS","tab":"7e8b733.856580c","order":1,"disp":true,"width":"6","collapse":false},{"id":"2d8bd6da.62907a","type":"ui_group","z":"","name":"Channel LV","tab":"7e8b733.856580c","order":3,"disp":true,"width":"6","collapse":false},{"id":"bfc3a9a9.b0e2c8","type":"ui_group","z":"","name":"Channel HV","tab":"7e8b733.856580c","order":4,"disp":true,"width":"6","collapse":false},{"id":"82bebf6b.1bb49","type":"mqtt out","z":"1b5e05d0.356c1a","name":"switch HV","topic":"/hv/cmd/switch/0","qos":"","retain":"","broker":"26584c7e.c410f4","x":540,"y":360,"wires":[]},{"id":"edaf15b7.e93438","type":"inject","z":"1b5e05d0.356c1a","name":"","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"on","payloadType":"str","x":110,"y":340,"wires":[["16f4f7ff.3c89d8"]]},{"id":"af95bf21.8532f","type":"inject","z":"1b5e05d0.356c1a","name":"","repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"off","payloadType":"str","x":110,"y":380,"wires":[["16f4f7ff.3c89d8"]]},{"id":"d459195d.5c5308","type":"mqtt out","z":"1b5e05d0.356c1a","name":"HV SETV","topic":"/hv/cmd/setv/0","qos":"","retain":"","broker":"26584c7e.c410f4","x":460,"y":220,"wires":[]},{"id":"5e033e49.1207a","type":"inject","z":"1b5e05d0.356c1a","name":"","repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"100","payloadType":"num","x":110,"y":180,"wires":[["ec9917f.eee1fe8"]]},{"id":"9656635.a76daa","type":"inject","z":"1b5e05d0.356c1a","name":"","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"5","payloadType":"num","x":110,"y":220,"wires":[["ec9917f.eee1fe8"]]},{"id":"2c40910c.ba466e","type":"inject","z":"1b5e05d0.356c1a","name":"","repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"0","payloadType":"num","x":110,"y":260,"wires":[["ec9917f.eee1fe8"]]},{"id":"16f4f7ff.3c89d8","type":"ui_switch","z":"1b5e05d0.356c1a","name":"HV switch","label":"HV enable","tooltip":"","group":"e831694e.1a4d98","order":5,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"","style":"","onvalue":"on","onvalueType":"str","onicon":"","oncolor":"","offvalue":"off","offvalueType":"str","officon":"","offcolor":"","x":280,"y":360,"wires":[["82bebf6b.1bb49","e8455b96.3a5be8"]]},{"id":"dfc1869e.1408a8","type":"mqtt in","z":"1b5e05d0.356c1a","name":"HV status","topic":"/hv/status","qos":"2","datatype":"auto","broker":"26584c7e.c410f4","x":100,"y":80,"wires":[["f2e30a52.5a7ec8"]]},{"id":"ec9917f.eee1fe8","type":"ui_slider","z":"1b5e05d0.356c1a","name":"Vset","label":"Voltage 1","tooltip":"","group":"e831694e.1a4d98","order":2,"width":0,"height":0,"passthru":true,"outs":"end","topic":"","min":"5","max":"15","step":".1","x":290,"y":220,"wires":[["d459195d.5c5308"]]},{"id":"12054296.b7a34d","type":"ui_gauge","z":"1b5e05d0.356c1a","name":"HV voltage","group":"e831694e.1a4d98","order":1,"width":0,"height":0,"gtype":"gage","title":"gauge 1","label":"V","format":"{{value | number:2}}","min":"5","max":"15","colors":["#00b500","#e6e600","#ca3838"],"seg1":"150","seg2":"300","x":650,"y":80,"wires":[]},{"id":"f2e30a52.5a7ec8","type":"json","z":"1b5e05d0.356c1a","name":"decode status","property":"payload","action":"","pretty":false,"x":260,"y":80,"wires":[["b5eb05b6.727098","ed1de69c.8d0f18"]]},{"id":"b5eb05b6.727098","type":"change","z":"1b5e05d0.356c1a","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload[0].V0Set","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":460,"y":80,"wires":[["12054296.b7a34d","ec9917f.eee1fe8"]]},{"id":"a7b5fa0a.701a98","type":"mqtt in","z":"1b5e05d0.356c1a","name":"","topic":"/sensor_1/#","qos":"2","datatype":"auto","broker":"26584c7e.c410f4","x":90,"y":680,"wires":[["a9feac90.baac2"]]},{"id":"87d7e9b9.97aa98","type":"ui_gauge","z":"1b5e05d0.356c1a","name":"","group":"dbd2c210.cc1ae","order":2,"width":0,"height":0,"gtype":"wave","title":"Measurement 2","label":"units","format":"{{value}}","min":0,"max":"1.1","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":710,"y":740,"wires":[]},{"id":"39d75c68.300ae4","type":"ui_chart","z":"1b5e05d0.356c1a","name":"","group":"dbd2c210.cc1ae","order":1,"width":0,"height":0,"label":"Measurement 1","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"linear","nodata":"","dot":false,"ymin":"","ymax":"","removeOlder":1,"removeOlderPoints":"","removeOlderUnit":"60","cutout":0,"useOneColor":false,"useUTC":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"outputs":1,"x":710,"y":680,"wires":[[]]},{"id":"a9feac90.baac2","type":"json","z":"1b5e05d0.356c1a","name":"decode sensor","property":"payload","action":"","pretty":false,"x":310,"y":680,"wires":[["be91560e.9301a8","4bff750f.013a7c"]]},{"id":"be91560e.9301a8","type":"change","z":"1b5e05d0.356c1a","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.meas1","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":510,"y":680,"wires":[["39d75c68.300ae4"]]},{"id":"4bff750f.013a7c","type":"change","z":"1b5e05d0.356c1a","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.meas2","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":510,"y":740,"wires":[["87d7e9b9.97aa98"]]},{"id":"5487ca31.deb4bc","type":"mqtt out","z":"1b5e05d0.356c1a","name":"HV SETV","topic":"/hv/cmd/setv/1","qos":"","retain":"","broker":"26584c7e.c410f4","x":1200,"y":220,"wires":[]},{"id":"8cac4c94.35fd58","type":"mqtt in","z":"1b5e05d0.356c1a","name":"HV status","topic":"/hv/status","qos":"2","datatype":"auto","broker":"26584c7e.c410f4","x":840,"y":80,"wires":[["b381e4bc.770ab"]]},{"id":"e7aab702.01d9a8","type":"ui_slider","z":"1b5e05d0.356c1a","name":"Vset","label":"Voltage 2","tooltip":"","group":"e831694e.1a4d98","order":4,"width":0,"height":0,"passthru":true,"outs":"end","topic":"","min":"5","max":"15","step":".1","x":1030,"y":220,"wires":[["5487ca31.deb4bc"]]},{"id":"1f2817ff.f58a58","type":"ui_gauge","z":"1b5e05d0.356c1a","name":"HV voltage","group":"e831694e.1a4d98","order":3,"width":0,"height":0,"gtype":"gage","title":"gauge 2","label":"V","format":"{{value | number:2}}","min":"5","max":"15","colors":["#00b500","#e6e600","#ca3838"],"seg1":"150","seg2":"300","x":1390,"y":80,"wires":[]},{"id":"b381e4bc.770ab","type":"json","z":"1b5e05d0.356c1a","name":"decode status","property":"payload","action":"","pretty":false,"x":1000,"y":80,"wires":[["93284371.1e89b"]]},{"id":"93284371.1e89b","type":"change","z":"1b5e05d0.356c1a","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload[1].V0Set","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1200,"y":80,"wires":[["1f2817ff.f58a58","e7aab702.01d9a8"]]},{"id":"ebb5b994.df9de","type":"ui_led","z":"1b5e05d0.356c1a","group":"e831694e.1a4d98","order":5,"width":0,"height":0,"label":"HV","labelPlacement":"left","labelAlignment":"left","colorForValue":[{"color":"red","value":"0","valueType":"num"},{"color":"green","value":"1","valueType":"num"}],"allowColorForValueInMessage":false,"name":"HV led","x":680,"y":220,"wires":[]},{"id":"ed1de69c.8d0f18","type":"change","z":"1b5e05d0.356c1a","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload[0].on","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":490,"y":140,"wires":[["ebb5b994.df9de"]]},{"id":"e8455b96.3a5be8","type":"change","z":"1b5e05d0.356c1a","name":"","rules":[{"t":"change","p":"payload","pt":"msg","from":"on","fromt":"str","to":"1","tot":"num"},{"t":"change","p":"payload","pt":"msg","from":"off","fromt":"str","to":"0","tot":"num"}],"action":"","property":"","from":"","to":"","reg":false,"x":490,"y":300,"wires":[["ebb5b994.df9de"]]},{"id":"d16ed77c.cb63c","type":"FSM","z":"1b5e05d0.356c1a","name":"HV0","topic":"FSM_HV0","initstate":"ST_OFF","inittran":"TR_OFF","entry":false,"exit":false,"tran":true,"rules":[{"n":"TR_ON","c":"COND_ON","s":"ST_OFF","d":"ST_ON","t":"true"},{"n":"TR_OFF","c":"COND_OFF","s":"ST_ON","d":"ST_OFF","t":"true"}],"x":610,"y":460,"wires":[["3313ae77.66d512","3d7750be.dc39a8","95139db.703e2e"]]},{"id":"3313ae77.66d512","type":"debug","z":"1b5e05d0.356c1a","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","statusVal":"","statusType":"auto","x":830,"y":500,"wires":[]},{"id":"31efaefc.162d7a","type":"switch","z":"1b5e05d0.356c1a","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"on","vt":"str"},{"t":"eq","v":"off","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":290,"y":460,"wires":[["234f96e7.ca7ac2"],["8273bd73.672c7"]]},{"id":"234f96e7.ca7ac2","type":"change","z":"1b5e05d0.356c1a","name":"COND_ON","rules":[{"t":"set","p":"topic","pt":"msg","to":"COND_ON","tot":"str"},{"t":"set","p":"payload","pt":"msg","to":"true","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":450,"y":440,"wires":[["d16ed77c.cb63c"]]},{"id":"8273bd73.672c7","type":"change","z":"1b5e05d0.356c1a","name":"COND_OFF","rules":[{"t":"set","p":"topic","pt":"msg","to":"COND_OFF","tot":"str"},{"t":"set","p":"payload","pt":"msg","to":"true","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":450,"y":480,"wires":[["d16ed77c.cb63c"]]},{"id":"5bfe9ad4.8a3fc4","type":"ui_switch","z":"1b5e05d0.356c1a","name":"FSM HV switch","label":"FSM HV enable","tooltip":"","group":"e831694e.1a4d98","order":5,"width":0,"height":0,"passthru":false,"decouple":"true","topic":"","style":"","onvalue":"on","onvalueType":"str","onicon":"","oncolor":"","offvalue":"off","offvalueType":"str","officon":"","offcolor":"","x":120,"y":460,"wires":[["31efaefc.162d7a"]]},{"id":"af03b0d2.ce78b","type":"mqtt out","z":"1b5e05d0.356c1a","name":"switch HV","topic":"/hv/cmd/switch/0","qos":"","retain":"","broker":"26584c7e.c410f4","x":1040,"y":540,"wires":[]},{"id":"95139db.703e2e","type":"ui_led","z":"1b5e05d0.356c1a","group":"e831694e.1a4d98","order":5,"width":0,"height":0,"label":"FSM HV","labelPlacement":"left","labelAlignment":"left","colorForValue":[{"color":"red","value":"TR_OFF","valueType":"str"},{"color":"green","value":"TR_ON","valueType":"str"}],"allowColorForValueInMessage":false,"name":"FSM HV led","x":830,"y":580,"wires":[]},{"id":"3d7750be.dc39a8","type":"change","z":"1b5e05d0.356c1a","name":"","rules":[{"t":"change","p":"payload","pt":"msg","from":"TR_ON","fromt":"str","to":"on","tot":"str"},{"t":"change","p":"payload","pt":"msg","from":"TR_OFF","fromt":"str","to":"off","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":840,"y":540,"wires":[["af03b0d2.ce78b","5bfe9ad4.8a3fc4"]]},{"id":"224dff0a.60d288","type":"mqtt in","z":"5f7479e.a85f988","name":"HV status","topic":"/hv/status","qos":"2","datatype":"auto","broker":"26584c7e.c410f4","x":320,"y":140,"wires":[["408e2e27.21b1a"]]},{"id":"408e2e27.21b1a","type":"json","z":"5f7479e.a85f988","name":"decode status","property":"payload","action":"","pretty":false,"x":540,"y":140,"wires":[["9b7c4576.de9968","3913abc6.022284","c87bf76.8828588","89da1783.22601","fc35df23.3470f8","e163ecaf.73b6e","838e1c71.a1cb6","cfa95afc.4e5868","3a824720.104fb","8bdef641.3bf69","a75ac50a.ee4dd8","caea3cbc.da841","ac0bac64.4ce7d"]]},{"id":"9b7c4576.de9968","type":"change","z":"5f7479e.a85f988","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.lv_setV","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":740,"y":140,"wires":[["80f9d891.5480f"]]},{"id":"5441c7c1.0b89a8","type":"ui_gauge","z":"5f7479e.a85f988","name":"LV voltage","group":"2d4cda88.78c10e","order":1,"width":0,"height":0,"gtype":"gage","title":"LV voltage","label":"V","format":"{{value | number:2}}","min":"5","max":"15","colors":["#00b500","#e6e600","#ca3838"],"seg1":"150","seg2":"300","x":930,"y":640,"wires":[]},{"id":"c467a4d5.725a58","type":"ui_gauge","z":"5f7479e.a85f988","name":"HV voltage","group":"4f48b026.53e41","order":1,"width":0,"height":0,"gtype":"gage","title":"HV voltage","label":"V","format":"{{value | number:2}}","min":"0","max":"3500","colors":["#00b500","#e6e600","#ca3838"],"seg1":"1000","seg2":"2000","x":930,"y":700,"wires":[]},{"id":"3913abc6.022284","type":"change","z":"5f7479e.a85f988","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.hv_setV","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":740,"y":200,"wires":[["6c053eec.2a38b"]]},{"id":"14c00c6f.5c506c","type":"mqtt out","z":"5f7479e.a85f988","name":"LV SETV","topic":"/hv/cmd/setv/lv","qos":"","retain":"","broker":"26584c7e.c410f4","x":1080,"y":140,"wires":[]},{"id":"c87bf76.8828588","type":"change","z":"5f7479e.a85f988","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.lv_status","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":740,"y":280,"wires":[["9d01af34.5e4","d887baa2.78c8a"]]},{"id":"9d01af34.5e4","type":"ui_led","z":"5f7479e.a85f988","group":"2d4cda88.78c10e","order":5,"width":0,"height":0,"label":"LV","labelPlacement":"left","labelAlignment":"left","colorForValue":[{"color":"red","value":"0","valueType":"num"},{"color":"green","value":"1","valueType":"num"}],"allowColorForValueInMessage":false,"name":"LV led","x":950,"y":280,"wires":[]},{"id":"d887baa2.78c8a","type":"change","z":"5f7479e.a85f988","name":"","rules":[{"t":"change","p":"payload","pt":"msg","from":"1","fromt":"num","to":"on","tot":"str"},{"t":"change","p":"payload","pt":"msg","from":"0","fromt":"num","to":"off","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":960,"y":340,"wires":[["f53e93bf.ab1558"]]},{"id":"f53e93bf.ab1558","type":"ui_switch","z":"5f7479e.a85f988","name":"LV switch","label":"LV enable","tooltip":"","group":"2d4cda88.78c10e","order":5,"width":0,"height":0,"passthru":false,"decouple":"true","topic":"","style":"","onvalue":"on","onvalueType":"str","onicon":"","oncolor":"","offvalue":"off","offvalueType":"str","officon":"","offcolor":"","x":1160,"y":340,"wires":[["6e7e77ef.4f666"]]},{"id":"6e7e77ef.4f666","type":"mqtt out","z":"5f7479e.a85f988","name":"switch LV","topic":"/hv/cmd/switch/lv","qos":"","retain":"","broker":"26584c7e.c410f4","x":1340,"y":340,"wires":[]},{"id":"bd64919e.6a4ee8","type":"mqtt out","z":"5f7479e.a85f988","name":"HV SETV","topic":"/hv/cmd/setv/hv","qos":"","retain":"","broker":"26584c7e.c410f4","x":1080,"y":200,"wires":[]},{"id":"89da1783.22601","type":"change","z":"5f7479e.a85f988","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.hv_status","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":740,"y":400,"wires":[["2e6df2a0.c971f6","27ab1d46.26ad42"]]},{"id":"2e6df2a0.c971f6","type":"ui_led","z":"5f7479e.a85f988","group":"4f48b026.53e41","order":5,"width":0,"height":0,"label":"HV","labelPlacement":"left","labelAlignment":"left","colorForValue":[{"color":"red","value":"0","valueType":"num"},{"color":"green","value":"1","valueType":"num"},{"color":"orange","value":"3","valueType":"num"},{"color":"orange","value":"5","valueType":"num"}],"allowColorForValueInMessage":false,"name":"HV led","x":950,"y":400,"wires":[]},{"id":"27ab1d46.26ad42","type":"change","z":"5f7479e.a85f988","name":"","rules":[{"t":"change","p":"payload","pt":"msg","from":"1","fromt":"num","to":"on","tot":"str"},{"t":"change","p":"payload","pt":"msg","from":"0","fromt":"num","to":"off","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":960,"y":460,"wires":[["91b56b68.8fc9"]]},{"id":"91b56b68.8fc9","type":"ui_switch","z":"5f7479e.a85f988","name":"HV switch","label":"HV enable","tooltip":"","group":"4f48b026.53e41","order":5,"width":0,"height":0,"passthru":false,"decouple":"true","topic":"","style":"","onvalue":"on","onvalueType":"str","onicon":"","oncolor":"","offvalue":"off","offvalueType":"str","officon":"","offcolor":"","x":1160,"y":460,"wires":[["cdaa880e.06bca"]]},{"id":"cdaa880e.06bca","type":"mqtt out","z":"5f7479e.a85f988","name":"switch HV","topic":"/hv/cmd/switch/hv","qos":"","retain":"","broker":"26584c7e.c410f4","x":1340,"y":460,"wires":[]},{"id":"e163ecaf.73b6e","type":"change","z":"5f7479e.a85f988","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.hv_vMon","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":740,"y":700,"wires":[["c467a4d5.725a58"]]},{"id":"fc35df23.3470f8","type":"change","z":"5f7479e.a85f988","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.lv_vMon","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":740,"y":640,"wires":[["5441c7c1.0b89a8"]]},{"id":"cfa95afc.4e5868","type":"change","z":"5f7479e.a85f988","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.hv_iMon","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":740,"y":820,"wires":[["2b635526.9634aa"]]},{"id":"838e1c71.a1cb6","type":"change","z":"5f7479e.a85f988","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.lv_iMon","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":740,"y":760,"wires":[["9e0943b8.5a67d"]]},{"id":"2b635526.9634aa","type":"ui_gauge","z":"5f7479e.a85f988","name":"HV current","group":"4f48b026.53e41","order":1,"width":0,"height":0,"gtype":"gage","title":"HV current","label":"uA","format":"{{value | number:2}}","min":"0","max":"3500","colors":["#00b500","#e6e600","#ca3838"],"seg1":"1000","seg2":"2000","x":930,"y":820,"wires":[]},{"id":"9e0943b8.5a67d","type":"ui_gauge","z":"5f7479e.a85f988","name":"LV current","group":"2d4cda88.78c10e","order":1,"width":0,"height":0,"gtype":"gage","title":"LV current","label":"A","format":"{{value | number:2}}","min":"0","max":"5","colors":["#00b500","#e6e600","#ca3838"],"seg1":"1","seg2":"2","x":930,"y":760,"wires":[]},{"id":"196311c2.5888f6","type":"ui_text","z":"5f7479e.a85f988","group":"2d4cda88.78c10e","order":8,"width":0,"height":0,"name":"LV status","label":"LV status","format":"{{msg.payload}}","layout":"row-spread","x":950,"y":520,"wires":[]},{"id":"3a824720.104fb","type":"change","z":"5f7479e.a85f988","name":"LV status","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.lv_status","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":720,"y":520,"wires":[["196311c2.5888f6"]]},{"id":"8bdef641.3bf69","type":"change","z":"5f7479e.a85f988","name":"HV status","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.hv_status","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":720,"y":580,"wires":[["d587df0f.9f3338"]]},{"id":"d587df0f.9f3338","type":"ui_text","z":"5f7479e.a85f988","group":"4f48b026.53e41","order":8,"width":0,"height":0,"name":"HV status","label":"HV status","format":"{{msg.payload}}","layout":"row-spread","x":950,"y":580,"wires":[]},{"id":"cb0ab2f1.c46a8","type":"ui_button","z":"5f7479e.a85f988","name":"CLEAR","group":"853ba2bb.2732c8","order":0,"width":0,"height":0,"passthru":false,"label":"Clear alarm","tooltip":"","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":320,"y":80,"wires":[["bb1510cd.71b1a8"]]},{"id":"bb1510cd.71b1a8","type":"mqtt out","z":"5f7479e.a85f988","name":"CLEAR","topic":"/hv/cmd/clear","qos":"","retain":"","broker":"26584c7e.c410f4","x":470,"y":80,"wires":[]},{"id":"80f9d891.5480f","type":"ui_slider","z":"5f7479e.a85f988","name":"LV setV","label":"LV setV","tooltip":"","group":"2d4cda88.78c10e","order":8,"width":0,"height":0,"passthru":true,"outs":"end","topic":"","min":"5","max":"15","step":"0.1","x":920,"y":140,"wires":[["14c00c6f.5c506c"]]},{"id":"6c053eec.2a38b","type":"ui_slider","z":"5f7479e.a85f988","name":"HV setV","label":"HV setV","tooltip":"","group":"4f48b026.53e41","order":8,"width":0,"height":0,"passthru":true,"outs":"end","topic":"","min":"0","max":"3500","step":"1","x":920,"y":200,"wires":[["bd64919e.6a4ee8"]]},{"id":"caea3cbc.da841","type":"change","z":"5f7479e.a85f988","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.hv_temp","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":740,"y":940,"wires":[["3256a465.c44dec"]]},{"id":"a75ac50a.ee4dd8","type":"change","z":"5f7479e.a85f988","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.lv_temp","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":740,"y":880,"wires":[["4253b63.2a8b448"]]},{"id":"3256a465.c44dec","type":"ui_gauge","z":"5f7479e.a85f988","name":"HV temp","group":"4f48b026.53e41","order":1,"width":0,"height":0,"gtype":"wave","title":"HV temp","label":"C","format":"{{value | number:2}}","min":"0","max":"50","colors":["#00b500","#e6e600","#ca3838"],"seg1":"1","seg2":"2","x":920,"y":940,"wires":[]},{"id":"4253b63.2a8b448","type":"ui_gauge","z":"5f7479e.a85f988","name":"LV temp","group":"2d4cda88.78c10e","order":1,"width":0,"height":0,"gtype":"wave","title":"LV temp","label":"C","format":"{{value | number:2}}","min":"0","max":"50","colors":["#00b500","#e6e600","#ca3838"],"seg1":"1","seg2":"2","x":920,"y":880,"wires":[]},{"id":"36809ce7.f09194","type":"ui_led","z":"5f7479e.a85f988","group":"853ba2bb.2732c8","order":1,"width":0,"height":0,"label":"Alarm","labelPlacement":"left","labelAlignment":"left","colorForValue":[{"color":"green","value":"false","valueType":"bool"},{"color":"red","value":"true","valueType":"bool"}],"allowColorForValueInMessage":false,"name":"Alarm","x":1070,"y":80,"wires":[]},{"id":"ac0bac64.4ce7d","type":"function","z":"5f7479e.a85f988","name":"","func":"var newMsg = { payload: false };\nif (msg.payload.lv_status > 1 || msg.payload.hv_status > 5) { \n    newMsg.payload = true;\n}\nreturn newMsg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":930,"y":80,"wires":[["36809ce7.f09194"]]},{"id":"faad0166.c3eb88","type":"ui_button","z":"5f7479e.a85f988","name":"Reconnect","group":"853ba2bb.2732c8","order":0,"width":0,"height":0,"passthru":false,"label":"Reconnect","tooltip":"","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":330,"y":40,"wires":[["ce67e4e.31b7b98"]]},{"id":"ce67e4e.31b7b98","type":"mqtt out","z":"5f7479e.a85f988","name":"Reconnect","topic":"/hv/cmd/reconnect","qos":"","retain":"","broker":"26584c7e.c410f4","x":480,"y":40,"wires":[]},{"id":"a5b051e4.f5f8c8","type":"mqtt in","z":"578ae253.39d5dc","name":"HV status","topic":"/channels/status/#","qos":"2","datatype":"json","broker":"26584c7e.c410f4","x":180,"y":480,"wires":[["4f9cfc3b.075cc4"]]},{"id":"1efe110e.324d1f","type":"change","z":"578ae253.39d5dc","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.lv_setV","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":600,"y":480,"wires":[["c1714040.9af518"]]},{"id":"93afe3b3.3d37c","type":"change","z":"578ae253.39d5dc","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.hv_setV","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":600,"y":520,"wires":[["a6198fc5.dc3368"]]},{"id":"894cae55.fb8fb","type":"change","z":"578ae253.39d5dc","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.lv_status","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":600,"y":560,"wires":[["20dee951.aa3fae"]]},{"id":"20dee951.aa3fae","type":"ui_led","z":"578ae253.39d5dc","group":"2d8bd6da.62907a","order":1,"width":0,"height":0,"label":"LV","labelPlacement":"left","labelAlignment":"left","colorForValue":[{"color":"red","value":"0","valueType":"num"},{"color":"green","value":"1","valueType":"num"}],"allowColorForValueInMessage":false,"name":"LV led","x":770,"y":560,"wires":[]},{"id":"766936d5.8f7d58","type":"change","z":"578ae253.39d5dc","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.hv_status","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":600,"y":600,"wires":[["2dc90eb9.cb8fb2"]]},{"id":"2dc90eb9.cb8fb2","type":"ui_led","z":"578ae253.39d5dc","group":"bfc3a9a9.b0e2c8","order":1,"width":0,"height":0,"label":"HV","labelPlacement":"left","labelAlignment":"left","colorForValue":[{"color":"red","value":"0","valueType":"num"},{"color":"green","value":"1","valueType":"num"},{"color":"orange","value":"3","valueType":"num"},{"color":"orange","value":"5","valueType":"num"}],"allowColorForValueInMessage":false,"name":"HV led","x":770,"y":600,"wires":[]},{"id":"5a59b096.d15a9","type":"ui_text","z":"578ae253.39d5dc","group":"2d8bd6da.62907a","order":2,"width":0,"height":0,"name":"LV status","label":"LV status","format":"{{msg.payload}}","layout":"row-spread","x":780,"y":640,"wires":[]},{"id":"9d695bbc.c95d18","type":"change","z":"578ae253.39d5dc","name":"LV status","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.lv_status","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":580,"y":640,"wires":[["5a59b096.d15a9"]]},{"id":"f557dfb4.6cf6c8","type":"change","z":"578ae253.39d5dc","name":"HV status","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.hv_status","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":580,"y":680,"wires":[["7880f68f.acd3d8"]]},{"id":"7880f68f.acd3d8","type":"ui_text","z":"578ae253.39d5dc","group":"bfc3a9a9.b0e2c8","order":2,"width":0,"height":0,"name":"HV status","label":"HV status","format":"{{msg.payload}}","layout":"row-spread","x":780,"y":680,"wires":[]},{"id":"95b78798.d8c7b8","type":"ui_button","z":"578ae253.39d5dc","name":"Clear","group":"55e11d43.79404c","order":1,"width":0,"height":0,"passthru":false,"label":"Clear alarm","tooltip":"","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"/dcs/cmd/clear","x":610,"y":120,"wires":[["ebe9f001.dd4b5"]]},{"id":"48c6e6c.392eb18","type":"ui_button","z":"578ae253.39d5dc","name":"Reconnect","group":"55e11d43.79404c","order":2,"width":0,"height":0,"passthru":false,"label":"Reconnect","tooltip":"","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"/dcs/cmd/reconnect","x":630,"y":80,"wires":[["ebe9f001.dd4b5"]]},{"id":"ebe9f001.dd4b5","type":"mqtt out","z":"578ae253.39d5dc","name":"Commands","topic":"","qos":"2","retain":"","broker":"26584c7e.c410f4","x":910,"y":180,"wires":[]},{"id":"5fa07ad1.ffd14c","type":"mqtt in","z":"578ae253.39d5dc","name":"DCS status","topic":"/dcs/status","qos":"2","datatype":"json","broker":"26584c7e.c410f4","x":190,"y":220,"wires":[["7fc6443a.b8327c","2ff3707d.98ec5"]]},{"id":"7fc6443a.b8327c","type":"ui_text","z":"578ae253.39d5dc","group":"55e11d43.79404c","order":3,"width":0,"height":0,"name":"DCS FSM state","label":"FSM state","format":"{{msg.payload.fsm_state}}","layout":"row-spread","x":360,"y":100,"wires":[]},{"id":"e547a812.cdb268","type":"ui_button","z":"578ae253.39d5dc","name":"LV on","group":"55e11d43.79404c","order":4,"width":0,"height":0,"passthru":false,"label":"LV on","tooltip":"","color":"","bgcolor":"","icon":"","payload":"on","payloadType":"str","topic":"/dcs/cmd/switch/lv","x":610,"y":160,"wires":[["ebe9f001.dd4b5"]]},{"id":"de7cc071.20e88","type":"ui_button","z":"578ae253.39d5dc","name":"LV off","group":"55e11d43.79404c","order":5,"width":0,"height":0,"passthru":false,"label":"LV off","tooltip":"","color":"","bgcolor":"","icon":"","payload":"off","payloadType":"str","topic":"/dcs/cmd/switch/lv","x":610,"y":200,"wires":[["ebe9f001.dd4b5"]]},{"id":"b9ed54cb.1ca078","type":"ui_button","z":"578ae253.39d5dc","name":"HV on","group":"55e11d43.79404c","order":6,"width":0,"height":0,"passthru":false,"label":"HV on","tooltip":"","color":"","bgcolor":"","icon":"","payload":"on","payloadType":"str","topic":"/dcs/cmd/switch/hv","x":610,"y":240,"wires":[["ebe9f001.dd4b5"]]},{"id":"c6f53ac8.929a38","type":"ui_button","z":"578ae253.39d5dc","name":"HV off","group":"55e11d43.79404c","order":7,"width":0,"height":0,"passthru":false,"label":"HV off","tooltip":"","color":"","bgcolor":"","icon":"","payload":"off","payloadType":"str","topic":"/dcs/cmd/switch/hv","x":610,"y":280,"wires":[["ebe9f001.dd4b5"]]},{"id":"4a9a37e1.1ec5c8","type":"ui_gauge","z":"578ae253.39d5dc","name":"LV voltage","group":"2d8bd6da.62907a","order":6,"width":0,"height":0,"gtype":"gage","title":"LV voltage","label":"V","format":"{{value | number:2}}","min":"5","max":"15","colors":["#00b500","#e6e600","#ca3838"],"seg1":"150","seg2":"300","x":790,"y":720,"wires":[]},{"id":"4ecacf81.0d1938","type":"ui_gauge","z":"578ae253.39d5dc","name":"HV voltage","group":"bfc3a9a9.b0e2c8","order":6,"width":0,"height":0,"gtype":"gage","title":"HV voltage","label":"V","format":"{{value | number:2}}","min":"0","max":"3500","colors":["#00b500","#e6e600","#ca3838"],"seg1":"1000","seg2":"2000","x":790,"y":760,"wires":[]},{"id":"3738e10d.1fc5fe","type":"change","z":"578ae253.39d5dc","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.hv_vMon","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":600,"y":760,"wires":[["4ecacf81.0d1938"]]},{"id":"291819f8.9ff67e","type":"change","z":"578ae253.39d5dc","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.lv_vMon","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":600,"y":720,"wires":[["4a9a37e1.1ec5c8"]]},{"id":"7b48bb82.db3974","type":"change","z":"578ae253.39d5dc","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.hv_iMon","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":600,"y":840,"wires":[["308db212.a1d3c6"]]},{"id":"50abd631.3cddd8","type":"change","z":"578ae253.39d5dc","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.lv_iMon","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":600,"y":800,"wires":[["c79a1afc.b20de"]]},{"id":"308db212.a1d3c6","type":"ui_gauge","z":"578ae253.39d5dc","name":"HV current","group":"bfc3a9a9.b0e2c8","order":7,"width":0,"height":0,"gtype":"gage","title":"HV current","label":"uA","format":"{{value | number:2}}","min":"0","max":"3500","colors":["#00b500","#e6e600","#ca3838"],"seg1":"1000","seg2":"2000","x":790,"y":840,"wires":[]},{"id":"c79a1afc.b20de","type":"ui_gauge","z":"578ae253.39d5dc","name":"LV current","group":"2d8bd6da.62907a","order":7,"width":0,"height":0,"gtype":"gage","title":"LV current","label":"A","format":"{{value | number:2}}","min":"0","max":"5","colors":["#00b500","#e6e600","#ca3838"],"seg1":"1","seg2":"2","x":790,"y":800,"wires":[]},{"id":"45c8b8f.24f8a48","type":"ui_dropdown","z":"578ae253.39d5dc","name":"Channel selector","label":"Channel","tooltip":"","place":"Select option","group":"55e11d43.79404c","order":8,"width":0,"height":0,"passthru":true,"multiple":false,"options":[{"label":"0","value":"module_0","type":"str"},{"label":"1","value":"module_1","type":"str"}],"payload":"","topic":"","x":210,"y":360,"wires":[["44745eba.20da38","a058fd17.d7f578"]]},{"id":"44745eba.20da38","type":"function","z":"578ae253.39d5dc","name":"set flow channel","func":"flow.set(\"channel\", msg.payload);","outputs":1,"noerr":0,"initialize":"","finalize":"","x":460,"y":380,"wires":[[]]},{"id":"4f9cfc3b.075cc4","type":"function","z":"578ae253.39d5dc","name":"filter channel","func":"var channel = flow.get(\"channel\")||\"module_0\";\nnode.log(\"Option is \", channel);\nif (msg.topic.indexOf(channel) >= 0) {\n    node.log(\"Found \", channel);\n    return msg;\n}","outputs":1,"noerr":0,"initialize":"","finalize":"","x":350,"y":480,"wires":[["1efe110e.324d1f","93afe3b3.3d37c","894cae55.fb8fb","766936d5.8f7d58","9d695bbc.c95d18","f557dfb4.6cf6c8","291819f8.9ff67e","3738e10d.1fc5fe","50abd631.3cddd8","7b48bb82.db3974"]]},{"id":"c8239099.e44338","type":"mqtt out","z":"578ae253.39d5dc","name":"SETV","topic":"","qos":"2","retain":"","broker":"26584c7e.c410f4","x":970,"y":920,"wires":[]},{"id":"7f5a6fa2.5678d","type":"function","z":"578ae253.39d5dc","name":"build lv setV cmd","func":"var channel = flow.get(\"channel\")||\"module_0\";\nvar setV = flow.get(\"lv_setV\")||5;\nvar newMsg = { payload: setV, topic: \"/dcs/cmd/setv/lv/\"+channel };\nreturn newMsg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":790,"y":900,"wires":[["c8239099.e44338"]]},{"id":"334ce929.5eda9e","type":"ui_button","z":"578ae253.39d5dc","name":"Refresh","group":"55e11d43.79404c","order":2,"width":0,"height":0,"passthru":true,"label":"Refresh","tooltip":"","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"/dcs/cmd/refresh","x":620,"y":340,"wires":[["ebe9f001.dd4b5"]]},{"id":"a058fd17.d7f578","type":"delay","z":"578ae253.39d5dc","name":"","pauseType":"delay","timeout":"100","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":450,"y":340,"wires":[["334ce929.5eda9e"]]},{"id":"2ff3707d.98ec5","type":"function","z":"578ae253.39d5dc","name":"visibility","func":"var reconnect_enabled = false;\nvar clear_enabled = false;\nvar hv_on_enabled = true;\nvar hv_off_enabled = true;\nvar lv_on_enabled = true;\nvar lv_off_enabled = true;\n\nif (msg.payload.fsm_state == \"ERROR\") {\n    clear_enabled = true;\n}\nif (msg.payload.fsm_state == \"DISCONNECTED\") {\n    reconnect_enabled = true;\n}\nif (msg.payload.fsm_state == \"LV_OFF\" ||\n    msg.payload.fsm_state == \"LV_MIX\") {\n    hv_on_enabled = false;\n    hv_off_enabled = false;\n}\nif (msg.payload.fsm_state == \"LV_ON\") {\n    lv_on_enabled = false;\n    hv_off_enabled = false;\n}\nif (msg.payload.fsm_state == \"LV_OFF\") {\n    lv_off_enabled = false;\n}\nif (msg.payload.fsm_state == \"HV_ON\" ||\n    msg.payload.fsm_state == \"HV_MIX\" ||\n    msg.payload.fsm_state == \"HV_RAMP\") {\n    lv_off_enabled = false;\n    lv_on_enabled = false;\n}\nif (msg.payload.fsm_state == \"HV_ON\") {\n    hv_on_enabled = false;\n}\nif (msg.payload.fsm_state == \"DISCONNECTED\" ||\n    msg.payload.fsm_state == \"ERROR\") {\n    lv_on_enabled = false;\n    lv_off_enabled = false;\n    hv_on_enabled = false;\n    hv_off_enabled = false;\n}\n\nreturn [\n    { enabled: reconnect_enabled }, \n    { enabled: clear_enabled }, \n    { enabled: lv_on_enabled }, \n    { enabled: lv_off_enabled },\n    { enabled: hv_on_enabled },\n    { enabled: hv_off_enabled}\n    ];","outputs":6,"noerr":0,"initialize":"","finalize":"","x":380,"y":220,"wires":[["48c6e6c.392eb18"],["95b78798.d8c7b8"],["e547a812.cdb268"],["de7cc071.20e88"],["b9ed54cb.1ca078"],["c6f53ac8.929a38"]]},{"id":"c1714040.9af518","type":"ui_gauge","z":"578ae253.39d5dc","name":"LV setV gauge","group":"2d8bd6da.62907a","order":3,"width":0,"height":0,"gtype":"gage","title":"LV setV","label":"V","format":"{{value | number:2}}","min":"5","max":"15","colors":["#00b500","#e6e600","#ca3838"],"seg1":"150","seg2":"300","x":800,"y":480,"wires":[]},{"id":"a6198fc5.dc3368","type":"ui_gauge","z":"578ae253.39d5dc","name":"HV setV gauge","group":"bfc3a9a9.b0e2c8","order":3,"width":0,"height":0,"gtype":"gage","title":"HV setV","label":"V","format":"{{value | number:2}}","min":"0","max":"800","colors":["#00b500","#e6e600","#ca3838"],"seg1":"100","seg2":"200","x":800,"y":520,"wires":[]},{"id":"2a16fa85.1c25de","type":"ui_button","z":"578ae253.39d5dc","name":"Send set LV","group":"2d8bd6da.62907a","order":5,"width":0,"height":0,"passthru":false,"label":"Set LV","tooltip":"","color":"","bgcolor":"","icon":"","payload":"on","payloadType":"str","topic":"/dcs/cmd/switch/lv","x":590,"y":900,"wires":[["7f5a6fa2.5678d"]]},{"id":"7c5fe6d7.0a2128","type":"ui_button","z":"578ae253.39d5dc","name":"Send set HV","group":"bfc3a9a9.b0e2c8","order":5,"width":0,"height":0,"passthru":false,"label":"Set HV","tooltip":"","color":"","bgcolor":"","icon":"","payload":"off","payloadType":"str","topic":"/dcs/cmd/switch/lv","x":590,"y":940,"wires":[["9386bdb9.fbcce8"]]},{"id":"ffc2857c.152dd8","type":"ui_numeric","z":"578ae253.39d5dc","name":"LV setV","label":"LV setV","tooltip":"","group":"2d8bd6da.62907a","order":4,"width":0,"height":0,"wrap":false,"passthru":true,"topic":"lv_setV","format":"{{msg.payload}}","min":"0","max":"15","step":"0.1","x":220,"y":900,"wires":[["4987f6fb.c99308"]]},{"id":"7b4edbd1.df1534","type":"ui_numeric","z":"578ae253.39d5dc","name":"HV setV","label":"HV setV","tooltip":"","group":"bfc3a9a9.b0e2c8","order":4,"width":0,"height":0,"wrap":false,"passthru":true,"topic":"hv_setV","format":"{{msg.payload}}","min":"0","max":"800","step":".1","x":220,"y":940,"wires":[["4987f6fb.c99308"]]},{"id":"4987f6fb.c99308","type":"function","z":"578ae253.39d5dc","name":"set flow setV","func":"flow.set(msg.topic, msg.payload);","outputs":1,"noerr":0,"initialize":"","finalize":"","x":410,"y":920,"wires":[[]]},{"id":"9386bdb9.fbcce8","type":"function","z":"578ae253.39d5dc","name":"build hv setV cmd","func":"var channel = flow.get(\"channel\")||\"module_0\";\nvar setV = flow.get(\"hv_setV\")||5;\nvar newMsg = { payload: setV, topic: \"/dcs/cmd/setv/hv/\"+channel };\nreturn newMsg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":790,"y":940,"wires":[["c8239099.e44338"]]}]